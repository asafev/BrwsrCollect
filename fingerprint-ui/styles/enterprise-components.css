/* ==========================================================================
   ENTERPRISE DESIGN SYSTEM - Extended Components
   Modal, Diff View, Console, and additional enterprise UI patterns
   ========================================================================== */

/* --------------------------------------------------------------------------
   MODAL DIALOG - Fluent-inspired Dialog Pattern
   -------------------------------------------------------------------------- */
.fp-modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(4px);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity var(--fp-duration-normal) var(--fp-easing-standard);
}

.fp-modal-backdrop--visible {
    opacity: 1;
}

.fp-modal {
    background: var(--fp-neutral-background-1);
    border-radius: var(--fp-radius-xl);
    box-shadow: var(--fp-shadow-64);
    width: 90%;
    max-width: 800px;
    max-height: 85vh;
    display: flex;
    flex-direction: column;
    transform: translateY(24px) scale(0.98);
    opacity: 0;
    transition: transform var(--fp-duration-normal) var(--fp-easing-decelerate),
                opacity var(--fp-duration-normal) var(--fp-easing-standard);
    border: 1px solid var(--fp-neutral-stroke-2);
}

.fp-modal--visible {
    transform: translateY(0) scale(1);
    opacity: 1;
}

.fp-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--fp-space-5) var(--fp-space-6);
    border-bottom: 1px solid var(--fp-neutral-stroke-2);
    background: var(--fp-neutral-background-2);
    border-radius: var(--fp-radius-xl) var(--fp-radius-xl) 0 0;
}

.fp-modal-title {
    margin: 0;
    font-size: var(--fp-font-size-600);
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-1);
}

.fp-modal-close {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    border-radius: var(--fp-radius-md);
    font-size: var(--fp-font-size-700);
    line-height: 1;
    cursor: pointer;
    color: var(--fp-neutral-foreground-3);
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
    display: flex;
    align-items: center;
    justify-content: center;
}

.fp-modal-close:hover {
    background: var(--fp-neutral-background-4);
    color: var(--fp-neutral-foreground-1);
}

.fp-modal-body {
    flex: 1;
    overflow-y: auto;
    padding: var(--fp-space-6);
}

.fp-modal-summary {
    display: flex;
    gap: var(--fp-space-3);
    padding: var(--fp-space-4);
    background: var(--fp-neutral-background-3);
    border-radius: var(--fp-radius-lg);
    margin-bottom: var(--fp-space-5);
    border: 1px solid var(--fp-neutral-stroke-3);
}

.fp-modal-summary-label {
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-3);
    font-size: var(--fp-font-size-300);
}

.fp-modal-summary-value {
    font-family: var(--fp-font-family-mono);
    color: var(--fp-neutral-foreground-1);
    font-size: var(--fp-font-size-300);
}

.fp-modal-footer {
    display: flex;
    gap: var(--fp-space-3);
    justify-content: flex-end;
    padding: var(--fp-space-4) var(--fp-space-6);
    border-top: 1px solid var(--fp-neutral-stroke-2);
    background: var(--fp-neutral-background-2);
    border-radius: 0 0 var(--fp-radius-xl) var(--fp-radius-xl);
}

.fp-modal-btn {
    padding: var(--fp-space-2) var(--fp-space-5);
    border-radius: var(--fp-button-radius);
    font-weight: var(--fp-font-weight-semibold);
    font-size: var(--fp-font-size-300);
    cursor: pointer;
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
    border: 1px solid transparent;
    height: var(--fp-button-height-md);
}

.fp-modal-btn--primary {
    background: var(--fp-brand-primary);
    color: white;
}

.fp-modal-btn--primary:hover {
    background: var(--fp-brand-primary-hover);
}

.fp-modal-btn--secondary {
    background: var(--fp-neutral-background-3);
    color: var(--fp-neutral-foreground-2);
    border-color: var(--fp-neutral-stroke-1);
}

.fp-modal-btn--secondary:hover {
    background: var(--fp-neutral-background-4);
}

.fp-modal-btn--success {
    background: var(--fp-status-success) !important;
    color: white !important;
    border-color: var(--fp-status-success-foreground) !important;
}

/* Modal Content Types */
.fp-modal-toolbar {
    display: flex;
    align-items: center;
    gap: var(--fp-space-4);
    margin-bottom: var(--fp-space-4);
}

.fp-modal-search {
    flex: 1;
    padding: var(--fp-space-2) var(--fp-space-4);
    border: 1px solid var(--fp-neutral-stroke-1);
    border-radius: var(--fp-input-radius);
    font-size: var(--fp-font-size-300);
    font-family: var(--fp-font-family-base);
    background: var(--fp-neutral-background-1);
    color: var(--fp-neutral-foreground-1);
    height: var(--fp-button-height-md);
}

.fp-modal-search:focus {
    outline: none;
    border-color: var(--fp-brand-primary);
    box-shadow: 0 0 0 2px var(--fp-focus-stroke-outer);
}

.fp-modal-count {
    font-size: var(--fp-font-size-300);
    color: var(--fp-neutral-foreground-4);
    white-space: nowrap;
}

.fp-modal-list {
    display: flex;
    flex-direction: column;
    gap: var(--fp-space-2);
    max-height: 400px;
    overflow-y: auto;
}

.fp-modal-list--fonts {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: var(--fp-space-3);
}

.fp-modal-font-item {
    display: flex;
    flex-direction: column;
    padding: var(--fp-space-3) var(--fp-space-4);
    background: var(--fp-neutral-background-2);
    border-radius: var(--fp-radius-lg);
    border: 1px solid var(--fp-neutral-stroke-3);
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
}

.fp-modal-font-item:hover {
    background: var(--fp-neutral-background-3);
    border-color: var(--fp-neutral-stroke-1);
}

.fp-modal-font-name {
    font-size: var(--fp-font-size-200);
    color: var(--fp-neutral-foreground-4);
    margin-bottom: 2px;
}

.fp-modal-font-preview {
    font-size: var(--fp-font-size-600);
    color: var(--fp-neutral-foreground-1);
}

/* Stats Grid */
.fp-modal-stats {
    display: flex;
    gap: var(--fp-space-4);
    margin-bottom: var(--fp-space-5);
    flex-wrap: wrap;
}

.fp-modal-stat {
    display: flex;
    flex-direction: column;
    padding: var(--fp-space-4);
    background: var(--fp-neutral-background-3);
    border-radius: var(--fp-radius-lg);
    min-width: 100px;
    border: 1px solid var(--fp-neutral-stroke-3);
}

.fp-modal-stat-label {
    font-size: var(--fp-font-size-200);
    color: var(--fp-neutral-foreground-4);
    text-transform: uppercase;
    letter-spacing: 0.04em;
}

.fp-modal-stat-value {
    font-size: var(--fp-font-size-700);
    font-weight: var(--fp-font-weight-bold);
    color: var(--fp-neutral-foreground-1);
}

.fp-mono {
    font-family: var(--fp-font-family-mono);
}

/* Emoji Grid */
.fp-modal-emoji-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(72px, 1fr));
    gap: var(--fp-space-2);
    max-height: 300px;
    overflow-y: auto;
}

.fp-modal-emoji-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--fp-space-2);
    background: var(--fp-neutral-background-2);
    border-radius: var(--fp-radius-md);
    border: 1px solid var(--fp-neutral-stroke-3);
    cursor: default;
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
}

.fp-modal-emoji-item:hover {
    background: var(--fp-subtle-blue);
    border-color: var(--fp-status-info-border);
}

.fp-modal-emoji-char {
    font-size: var(--fp-font-size-800);
    line-height: 1.2;
}

.fp-modal-emoji-info {
    font-size: var(--fp-font-size-100);
    color: var(--fp-neutral-foreground-4);
    font-family: var(--fp-font-family-mono);
}

/* Applications List */
.fp-modal-list--apps {
    gap: var(--fp-space-3);
}

.fp-modal-app-item {
    padding: var(--fp-space-4);
    background: var(--fp-neutral-background-2);
    border-radius: var(--fp-radius-lg);
    border: 1px solid var(--fp-neutral-stroke-3);
}

.fp-modal-app-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--fp-space-2);
}

.fp-modal-app-name {
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-1);
}

.fp-modal-app-confidence {
    font-size: var(--fp-font-size-200);
    padding: var(--fp-space-1) var(--fp-space-2);
    background: var(--fp-status-info-background);
    color: var(--fp-status-info-foreground);
    border-radius: var(--fp-radius-full);
}

.fp-modal-app-fonts {
    font-size: var(--fp-font-size-200);
    color: var(--fp-neutral-foreground-3);
}

.fp-modal-app-fonts code {
    background: var(--fp-neutral-background-4);
    padding: 1px 4px;
    border-radius: var(--fp-radius-sm);
    font-size: var(--fp-font-size-100);
}

/* JSON View */
.fp-modal-json {
    background: var(--fp-neutral-foreground-1);
    color: var(--fp-neutral-background-3);
    padding: var(--fp-space-4);
    border-radius: var(--fp-radius-lg);
    overflow-x: auto;
    font-family: var(--fp-font-family-mono);
    font-size: var(--fp-font-size-200);
    line-height: var(--fp-line-height-300);
    max-height: 400px;
}

.fp-modal-empty {
    text-align: center;
    color: var(--fp-neutral-foreground-4);
    padding: var(--fp-space-8);
}

.fp-modal-simple-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.fp-modal-simple-list li {
    padding: var(--fp-space-3) var(--fp-space-4);
    border-bottom: 1px solid var(--fp-neutral-stroke-3);
    font-size: var(--fp-font-size-300);
}

.fp-modal-simple-list li:last-child {
    border-bottom: none;
}

/* ==========================================================================
   DIFF MODE - Baseline Comparison UI
   ========================================================================== */

/* --------------------------------------------------------------------------
   DIFF TOGGLE BAR
   -------------------------------------------------------------------------- */
.fp-diff-toggle-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--fp-space-4);
    padding: var(--fp-space-4) var(--fp-space-5);
    background: var(--fp-neutral-background-1);
    border: 1px solid var(--fp-neutral-stroke-2);
    border-radius: var(--fp-card-radius);
    margin-bottom: var(--fp-space-5);
    box-shadow: var(--fp-shadow-2);
}

.fp-diff-toggle-bar__left {
    display: flex;
    align-items: center;
    gap: var(--fp-space-5);
    flex-wrap: wrap;
}

.fp-diff-toggle-bar__right {
    display: flex;
    align-items: center;
    gap: var(--fp-space-2);
    flex-wrap: wrap;
}

/* Toggle Switch */
.fp-diff-toggle {
    display: flex;
    align-items: center;
    gap: var(--fp-space-3);
}

.fp-diff-toggle__label {
    display: flex;
    align-items: center;
    gap: var(--fp-space-2);
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-2);
    cursor: pointer;
    user-select: none;
}

.fp-diff-toggle__icon {
    font-size: var(--fp-font-size-600);
}

.fp-diff-toggle__text {
    font-size: var(--fp-font-size-300);
}

.fp-diff-toggle__switch {
    position: relative;
    width: 48px;
    height: 24px;
}

.fp-diff-toggle__switch input {
    position: absolute;
    opacity: 0;
    width: 100%;
    height: 100%;
    margin: 0;
    cursor: pointer;
    z-index: 2;
}

.fp-diff-toggle__slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--fp-neutral-background-5);
    transition: var(--fp-duration-normal) var(--fp-easing-standard);
    border-radius: var(--fp-radius-full);
    z-index: 1;
}

.fp-diff-toggle__slider::before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: var(--fp-duration-normal) var(--fp-easing-standard);
    border-radius: 50%;
    box-shadow: var(--fp-shadow-2);
}

.fp-diff-toggle__switch input:checked + .fp-diff-toggle__slider {
    background: var(--fp-brand-primary);
}

.fp-diff-toggle__switch input:checked + .fp-diff-toggle__slider::before {
    transform: translateX(24px);
}

.fp-diff-toggle__switch input:focus-visible + .fp-diff-toggle__slider {
    box-shadow: 0 0 0 2px var(--fp-focus-stroke-outer);
}

/* Baseline Info Badge */
.fp-diff-baseline-info {
    display: flex;
    align-items: center;
    gap: var(--fp-space-1);
    padding: var(--fp-space-1) var(--fp-space-3);
    background: var(--fp-status-info-background);
    border: 1px solid var(--fp-status-info-border);
    border-radius: var(--fp-radius-md);
    font-size: var(--fp-font-size-200);
    color: var(--fp-status-info-foreground);
}

.fp-diff-baseline-info__icon {
    font-size: var(--fp-font-size-300);
}

/* Diff Summary Badges */
.fp-diff-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: var(--fp-space-1) var(--fp-space-2);
    font-size: var(--fp-font-size-200);
    font-weight: var(--fp-font-weight-semibold);
    border-radius: var(--fp-radius-sm);
    white-space: nowrap;
}

.fp-diff-badge--changed {
    background: var(--fp-status-warning-background);
    color: var(--fp-status-warning-foreground);
    border: 1px solid var(--fp-status-warning-border);
}

.fp-diff-badge--new {
    background: var(--fp-status-info-background);
    color: var(--fp-status-info-foreground);
    border: 1px solid var(--fp-status-info-border);
}

.fp-diff-badge--missing {
    background: var(--fp-status-danger-background);
    color: var(--fp-status-danger-foreground);
    border: 1px solid var(--fp-status-danger-border);
}

.fp-diff-badge--match {
    background: var(--fp-status-success-background);
    color: var(--fp-status-success-foreground);
    border: 1px solid var(--fp-status-success-border);
}

.fp-diff-badge--percentage {
    background: var(--fp-neutral-foreground-1);
    color: white;
    border: 1px solid var(--fp-neutral-foreground-2);
}

/* --------------------------------------------------------------------------
   DIFF OVERVIEW CARD
   -------------------------------------------------------------------------- */
.fp-diff-overview {
    background: var(--fp-neutral-background-1);
    border-radius: var(--fp-card-radius);
    box-shadow: var(--fp-shadow-8);
    margin-bottom: var(--fp-space-6);
    overflow: hidden;
    border: 1px solid var(--fp-neutral-stroke-2);
}

.fp-diff-overview__header {
    display: flex;
    align-items: center;
    gap: var(--fp-space-4);
    padding: var(--fp-space-5);
    background: var(--fp-neutral-background-2);
    border-bottom: 1px solid var(--fp-neutral-stroke-3);
}

.fp-diff-overview__icon {
    font-size: var(--fp-font-size-1000);
}

.fp-diff-overview__title-group {
    flex: 1;
}

.fp-diff-overview__title {
    margin: 0;
    font-size: var(--fp-font-size-700);
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-1);
}

.fp-diff-overview__subtitle {
    margin: var(--fp-space-1) 0 0 0;
    font-size: var(--fp-font-size-300);
    color: var(--fp-neutral-foreground-4);
}

.fp-diff-overview__stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
    gap: var(--fp-space-4);
    padding: var(--fp-space-5);
}

.fp-diff-stat {
    text-align: center;
    padding: var(--fp-space-4);
    background: var(--fp-neutral-background-2);
    border-radius: var(--fp-radius-lg);
    border: 1px solid var(--fp-neutral-stroke-3);
}

.fp-diff-stat__value {
    font-size: var(--fp-font-size-900);
    font-weight: var(--fp-font-weight-bold);
    color: var(--fp-neutral-foreground-1);
    line-height: 1;
    font-variant-numeric: tabular-nums;
}

.fp-diff-stat__value--primary {
    color: var(--fp-brand-primary);
}

.fp-diff-stat__value--changed {
    color: var(--fp-status-warning);
}

.fp-diff-stat__value--new {
    color: var(--fp-status-info);
}

.fp-diff-stat__value--missing {
    color: var(--fp-status-danger);
}

.fp-diff-stat__label {
    font-size: var(--fp-font-size-200);
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-4);
    text-transform: uppercase;
    letter-spacing: 0.04em;
    margin-top: var(--fp-space-1);
}

.fp-diff-overview__status {
    padding: var(--fp-space-3) var(--fp-space-5);
    text-align: center;
    font-weight: var(--fp-font-weight-semibold);
    font-size: var(--fp-font-size-300);
}

.fp-diff-overview__status--good {
    background: var(--fp-status-success-background);
    color: var(--fp-status-success-foreground);
}

.fp-diff-overview__status--warning {
    background: var(--fp-status-warning-background);
    color: var(--fp-status-warning-foreground);
}

.fp-diff-overview__status--danger {
    background: var(--fp-status-danger-background);
    color: var(--fp-status-danger-foreground);
}

/* --------------------------------------------------------------------------
   DIFF TABLE STYLES
   -------------------------------------------------------------------------- */
.fp-metrics-table--diff thead th {
    background: linear-gradient(180deg, var(--fp-subtle-blue) 0%, var(--fp-neutral-background-3) 100%);
}

.fp-diff-row {
    transition: background-color var(--fp-duration-fast) var(--fp-easing-standard);
}

.fp-diff-row:hover {
    background-color: var(--fp-neutral-background-3);
}

.fp-diff-row--diff-changed {
    background-color: var(--fp-status-warning-background);
}

.fp-diff-row--diff-changed:hover {
    background-color: rgba(253, 207, 110, 0.3);
}

.fp-diff-row--diff-new {
    background-color: var(--fp-status-info-background);
}

.fp-diff-row--diff-new:hover {
    background-color: rgba(131, 196, 244, 0.3);
}

.fp-diff-row--diff-missing {
    background-color: var(--fp-status-danger-background);
}

.fp-diff-row--diff-missing:hover {
    background-color: rgba(247, 166, 173, 0.3);
}

/* Diff Status Indicator */
.fp-diff-status {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    font-size: var(--fp-font-size-300);
}

.fp-diff-status--diff-changed {
    background: var(--fp-status-warning-background);
    color: var(--fp-status-warning);
}

.fp-diff-status--diff-new {
    background: var(--fp-status-info-background);
    color: var(--fp-status-info);
}

.fp-diff-status--diff-missing {
    background: var(--fp-status-danger-background);
    color: var(--fp-status-danger);
}

.fp-diff-status--diff-match {
    background: var(--fp-status-success-background);
    color: var(--fp-status-success);
}

.fp-diff-status--diff-ignored {
    background: var(--fp-neutral-background-4);
    color: var(--fp-neutral-foreground-4);
}

/* Diff Value Cells */
.fp-diff-value {
    font-family: var(--fp-font-family-mono);
    font-size: var(--fp-font-size-200);
}

.fp-diff-value--current .fp-diff-value-text--highlighted {
    background: var(--fp-status-warning-background);
    padding: var(--fp-space-1) var(--fp-space-2);
    border-radius: var(--fp-radius-sm);
    border: 1px solid var(--fp-status-warning-border);
}

.fp-diff-value--baseline .fp-diff-value-text {
    color: var(--fp-neutral-foreground-4);
    font-style: italic;
}

.fp-diff-na {
    color: var(--fp-neutral-foreground-disabled);
    font-style: italic;
}

/* Section Diff Counts */
.fp-diff-count {
    display: inline-flex;
    align-items: center;
    gap: 3px;
    padding: 2px 6px;
    font-size: var(--fp-font-size-100);
    font-weight: var(--fp-font-weight-semibold);
    border-radius: var(--fp-radius-full);
    margin-right: var(--fp-space-1);
}

.fp-diff-count--changed {
    background: var(--fp-status-warning-background);
    color: var(--fp-status-warning-foreground);
}

.fp-diff-count--new {
    background: var(--fp-status-info-background);
    color: var(--fp-status-info-foreground);
}

.fp-diff-count--missing {
    background: var(--fp-status-danger-background);
    color: var(--fp-status-danger-foreground);
}

.fp-diff-count--match {
    background: var(--fp-status-success-background);
    color: var(--fp-status-success-foreground);
}

/* Section Diff Status */
.fp-section__diff-status {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    font-size: var(--fp-font-size-300);
    margin-right: var(--fp-space-1);
}

.fp-section__diff-status--changed {
    background: var(--fp-status-warning-background);
}

.fp-section__diff-status--match {
    background: var(--fp-status-success-background);
}

/* --------------------------------------------------------------------------
   DIFF EMPTY STATE
   -------------------------------------------------------------------------- */
.fp-diff-empty-state {
    text-align: center;
    padding: var(--fp-space-10);
    background: linear-gradient(135deg, var(--fp-status-success-background) 0%, var(--fp-neutral-background-3) 100%);
    border-radius: var(--fp-card-radius);
    border: 2px dashed var(--fp-status-success-border);
    margin: var(--fp-space-6) 0;
}

.fp-diff-empty-state__icon {
    font-size: 64px;
    margin-bottom: var(--fp-space-4);
}

.fp-diff-empty-state__title {
    margin: 0 0 var(--fp-space-2) 0;
    font-size: var(--fp-font-size-800);
    font-weight: var(--fp-font-weight-bold);
    color: var(--fp-status-success-foreground);
}

.fp-diff-empty-state__text {
    margin: 0 0 var(--fp-space-5) 0;
    color: var(--fp-neutral-foreground-3);
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
    line-height: var(--fp-line-height-300);
}

.fp-diff-empty-state__action {
    display: flex;
    justify-content: center;
    gap: var(--fp-space-3);
}

/* --------------------------------------------------------------------------
   CONSOLE COMPONENT
   -------------------------------------------------------------------------- */
.fp-console {
    background: var(--fp-neutral-foreground-1);
    border-radius: var(--fp-card-radius);
    overflow: hidden;
    margin-top: var(--fp-space-5);
    box-shadow: var(--fp-shadow-8);
}

.fp-console__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--fp-space-3) var(--fp-space-4);
    background: var(--fp-neutral-foreground-2);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.fp-console__title {
    display: flex;
    align-items: center;
    gap: var(--fp-space-2);
    color: var(--fp-neutral-background-3);
    font-size: var(--fp-font-size-300);
    font-weight: var(--fp-font-weight-semibold);
}

.fp-console__title-icon {
    font-size: var(--fp-font-size-400);
}

.fp-console__toggle {
    background: transparent;
    border: none;
    color: var(--fp-neutral-background-5);
    cursor: pointer;
    padding: var(--fp-space-1);
    border-radius: var(--fp-radius-sm);
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
}

.fp-console__toggle:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.fp-console__body {
    max-height: 0;
    overflow: hidden;
    transition: max-height var(--fp-duration-slow) var(--fp-easing-decelerate);
}

.fp-console--expanded .fp-console__body {
    max-height: 400px;
}

.fp-console__content {
    padding: var(--fp-space-4);
    font-family: var(--fp-font-family-mono);
    font-size: var(--fp-font-size-200);
    line-height: var(--fp-line-height-300);
    max-height: 360px;
    overflow-y: auto;
}

.fp-console__line {
    display: flex;
    gap: var(--fp-space-3);
    padding: var(--fp-space-1) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.fp-console__line:last-child {
    border-bottom: none;
}

.fp-console__timestamp {
    color: var(--fp-neutral-foreground-disabled);
    font-size: var(--fp-font-size-100);
    flex-shrink: 0;
}

.fp-console__level {
    font-size: var(--fp-font-size-100);
    font-weight: var(--fp-font-weight-semibold);
    text-transform: uppercase;
    flex-shrink: 0;
    min-width: 40px;
}

.fp-console__level--info {
    color: var(--fp-status-info);
}

.fp-console__level--warn {
    color: var(--fp-status-warning);
}

.fp-console__level--error {
    color: var(--fp-status-danger);
}

.fp-console__level--success {
    color: var(--fp-status-success);
}

.fp-console__message {
    color: var(--fp-neutral-background-5);
    flex: 1;
    word-break: break-word;
}

/* --------------------------------------------------------------------------
   RESPONSIVE ADJUSTMENTS
   -------------------------------------------------------------------------- */
@media (max-width: 768px) {
    .fp-diff-toggle-bar {
        flex-direction: column;
        align-items: stretch;
    }
    
    .fp-diff-toggle-bar__left,
    .fp-diff-toggle-bar__right {
        justify-content: center;
    }
    
    .fp-diff-overview__stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .fp-diff-stat__value {
        font-size: var(--fp-font-size-700);
    }
    
    .fp-metrics-table--diff {
        font-size: var(--fp-font-size-200);
    }
    
    .fp-metrics-table--diff th,
    .fp-metrics-table--diff td {
        padding: var(--fp-space-2) var(--fp-space-3);
    }
    
    .fp-modal {
        width: 95%;
        max-height: 90vh;
    }
    
    .fp-modal-header,
    .fp-modal-body,
    .fp-modal-footer {
        padding: var(--fp-space-4);
    }
}

/* ==========================================================================
   SEARCH BAR - Enterprise Search Component
   ========================================================================== */

/* --------------------------------------------------------------------------
   SEARCH BAR MAIN
   -------------------------------------------------------------------------- */
.fp-search-bar {
    background: var(--fp-neutral-background-1);
    border: 1px solid var(--fp-neutral-stroke-2);
    border-radius: var(--fp-card-radius);
    box-shadow: var(--fp-shadow-4);
    margin-bottom: var(--fp-space-6);
    padding: var(--fp-space-4);
    transition: box-shadow var(--fp-duration-fast) var(--fp-easing-standard);
}

.fp-search-bar--focused {
    box-shadow: var(--fp-shadow-8);
    border-color: var(--fp-brand-primary);
}

.fp-search-bar__main {
    display: flex;
    align-items: center;
    gap: var(--fp-space-3);
}

.fp-search-bar__input-wrapper {
    flex: 1;
    position: relative;
    display: flex;
    align-items: center;
}

.fp-search-bar__icon {
    position: absolute;
    left: var(--fp-space-4);
    color: var(--fp-neutral-foreground-4);
    pointer-events: none;
    z-index: 1;
}

.fp-search-bar__input {
    width: 100%;
    padding: var(--fp-space-3) var(--fp-space-4) var(--fp-space-3) 44px;
    border: 1px solid var(--fp-neutral-stroke-1);
    border-radius: var(--fp-input-radius);
    font-size: var(--fp-font-size-400);
    font-family: var(--fp-font-family-base);
    background: var(--fp-neutral-background-1);
    color: var(--fp-neutral-foreground-1);
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
    height: var(--fp-button-height-md);
}

.fp-search-bar__input:focus {
    outline: none;
    border-color: var(--fp-brand-primary);
    box-shadow: 0 0 0 2px var(--fp-focus-stroke-outer);
}

.fp-search-bar__input::placeholder {
    color: var(--fp-neutral-foreground-4);
}

.fp-search-bar__clear {
    position: absolute;
    right: var(--fp-space-3);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    border-radius: var(--fp-radius-md);
    color: var(--fp-neutral-foreground-4);
    cursor: pointer;
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
    z-index: 1;
}

.fp-search-bar__clear:hover {
    background: var(--fp-neutral-background-4);
    color: var(--fp-neutral-foreground-2);
}

.fp-search-bar__actions {
    display: flex;
    gap: var(--fp-space-2);
}

.fp-search-bar__toggle {
    display: inline-flex;
    align-items: center;
    gap: var(--fp-space-2);
    padding: var(--fp-space-2) var(--fp-space-4);
    background: var(--fp-neutral-background-3);
    color: var(--fp-neutral-foreground-2);
    border: 1px solid var(--fp-neutral-stroke-1);
    border-radius: var(--fp-button-radius);
    font-size: var(--fp-font-size-300);
    font-weight: var(--fp-font-weight-semibold);
    cursor: pointer;
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
    height: var(--fp-button-height-md);
}

.fp-search-bar__toggle:hover {
    background: var(--fp-neutral-background-4);
    border-color: var(--fp-neutral-stroke-1);
}

.fp-search-bar__toggle--active {
    background: var(--fp-brand-primary);
    color: white;
    border-color: var(--fp-brand-primary);
}

.fp-search-bar__toggle--active:hover {
    background: var(--fp-brand-primary-hover);
}

/* Quick Filters */
.fp-search-bar__quick-filters {
    display: flex;
    align-items: center;
    gap: var(--fp-space-3);
    margin-top: var(--fp-space-4);
    padding-top: var(--fp-space-4);
    border-top: 1px solid var(--fp-neutral-stroke-3);
    flex-wrap: wrap;
}

.fp-search-bar__quick-filters-label {
    font-size: var(--fp-font-size-300);
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-3);
    white-space: nowrap;
}

.fp-search-bar__filter-chips {
    display: flex;
    gap: var(--fp-space-2);
    flex-wrap: wrap;
}

.fp-filter-chip {
    display: inline-flex;
    align-items: center;
    gap: var(--fp-space-1);
    padding: var(--fp-space-1) var(--fp-space-3);
    background: var(--fp-neutral-background-3);
    border: 1px solid var(--fp-neutral-stroke-2);
    border-radius: var(--fp-radius-full);
    font-size: var(--fp-font-size-200);
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-2);
    cursor: pointer;
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
    white-space: nowrap;
}

.fp-filter-chip:hover {
    background: var(--fp-neutral-background-4);
    border-color: var(--fp-neutral-stroke-1);
}

.fp-filter-chip--active {
    background: var(--fp-brand-primary);
    color: white;
    border-color: var(--fp-brand-primary);
}

.fp-filter-chip--active:hover {
    background: var(--fp-brand-primary-hover);
}

.fp-filter-chip__icon {
    font-size: var(--fp-font-size-300);
}

/* Advanced Filters */
.fp-search-bar__advanced {
    margin-top: var(--fp-space-4);
    padding-top: var(--fp-space-4);
    border-top: 1px solid var(--fp-neutral-stroke-3);
}

.fp-search-bar__advanced-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--fp-space-5);
}

.fp-search-bar__filter-group {
    display: flex;
    flex-direction: column;
    gap: var(--fp-space-2);
}

.fp-search-bar__filter-label {
    font-size: var(--fp-font-size-300);
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-2);
}

.fp-search-bar__checkbox-group {
    display: flex;
    flex-direction: column;
    gap: var(--fp-space-2);
}

.fp-checkbox-label {
    display: flex;
    align-items: center;
    gap: var(--fp-space-2);
    font-size: var(--fp-font-size-300);
    color: var(--fp-neutral-foreground-2);
    cursor: pointer;
    user-select: none;
}

.fp-checkbox-label--category {
    padding: var(--fp-space-2);
    border-radius: var(--fp-radius-md);
    transition: background var(--fp-duration-fast) var(--fp-easing-standard);
}

.fp-checkbox-label--category:hover {
    background: var(--fp-neutral-background-3);
}

.fp-checkbox-label__text {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.fp-checkbox-label__name {
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-1);
}

.fp-checkbox-label__count {
    font-size: var(--fp-font-size-200);
    color: var(--fp-neutral-foreground-4);
}

.fp-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--fp-brand-primary);
}

/* Results Info */
.fp-search-bar__results-info {
    display: flex;
    align-items: center;
    gap: var(--fp-space-2);
    margin-top: var(--fp-space-3);
    padding-top: var(--fp-space-3);
    border-top: 1px solid var(--fp-neutral-stroke-3);
    font-size: var(--fp-font-size-300);
    color: var(--fp-neutral-foreground-3);
}

.fp-search-bar__results-count {
    font-weight: var(--fp-font-weight-bold);
    color: var(--fp-brand-primary);
    font-variant-numeric: tabular-nums;
}

/* ==========================================================================
   METRICS CUSTOMIZER - Display Options Panel
   ========================================================================== */

.fp-metrics-customizer {
    position: fixed;
    top: 0;
    right: -420px;
    width: 400px;
    height: 100vh;
    background: var(--fp-neutral-background-1);
    border-left: 1px solid var(--fp-neutral-stroke-2);
    box-shadow: var(--fp-shadow-16);
    z-index: 10000;
    display: flex;
    flex-direction: column;
    transition: right var(--fp-duration-slow) var(--fp-easing-decelerate);
    overflow: hidden;
}

.fp-metrics-customizer--visible {
    right: 0;
}

.fp-metrics-customizer__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--fp-space-5);
    border-bottom: 1px solid var(--fp-neutral-stroke-2);
    background: var(--fp-neutral-background-2);
    flex-shrink: 0;
}

.fp-metrics-customizer__title {
    display: flex;
    align-items: center;
    gap: var(--fp-space-3);
    margin: 0;
    font-size: var(--fp-font-size-600);
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-1);
}

.fp-metrics-customizer__close {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    border-radius: var(--fp-radius-md);
    color: var(--fp-neutral-foreground-3);
    cursor: pointer;
    transition: all var(--fp-duration-fast) var(--fp-easing-standard);
}

.fp-metrics-customizer__close:hover {
    background: var(--fp-neutral-background-4);
    color: var(--fp-neutral-foreground-1);
}

.fp-metrics-customizer__content {
    flex: 1;
    overflow-y: auto;
    padding: var(--fp-space-5);
}

.fp-metrics-customizer__section {
    margin-bottom: var(--fp-space-6);
}

.fp-metrics-customizer__section:last-child {
    margin-bottom: 0;
}

.fp-metrics-customizer__section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--fp-space-3);
}

.fp-metrics-customizer__section-title {
    margin: 0;
    font-size: var(--fp-font-size-500);
    font-weight: var(--fp-font-weight-semibold);
    color: var(--fp-neutral-foreground-1);
}

.fp-metrics-customizer__actions {
    display: flex;
    gap: var(--fp-space-2);
}

.fp-metrics-customizer__actions-group {
    display: flex;
    flex-direction: column;
    gap: var(--fp-space-2);
}

.fp-metrics-customizer__categories {
    display: flex;
    flex-direction: column;
    gap: var(--fp-space-1);
    max-height: 400px;
    overflow-y: auto;
}

.fp-metrics-customizer__category {
    padding: var(--fp-space-1);
}

.fp-btn--sm {
    height: var(--fp-button-height-sm);
    padding: 0 var(--fp-space-3);
    font-size: var(--fp-font-size-200);
}

/* Responsive */
@media (max-width: 768px) {
    .fp-search-bar__main {
        flex-direction: column;
        align-items: stretch;
    }
    
    .fp-search-bar__actions {
        width: 100%;
        justify-content: flex-end;
    }
    
    .fp-search-bar__advanced-content {
        grid-template-columns: 1fr;
    }
    
    .fp-metrics-customizer {
        width: 100%;
        right: -100%;
    }
    
    .fp-filter-chip {
        font-size: var(--fp-font-size-100);
        padding: var(--fp-space-1) var(--fp-space-2);
    }
}